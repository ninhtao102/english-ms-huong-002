<div class="absolute inset-0 flex flex-col min-w-0 overflow-y-auto" cdkScrollable>
	<!-- Header -->
	<div class="relative flex-0 py-8 px-4 sm:p-16 overflow-hidden bg-gray-800 dark">
		<!-- Rings -->
		<svg class="absolute inset-0 pointer-events-none" viewBox="0 0 960 540"
		width="100%" height="100%" preserveAspectRatio="xMidYMax slice" xmlns="http://www.w3.org/2000/svg">
			<g class="text-gray-700 opacity-25"	fill="none"	stroke="currentColor"	stroke-width="100">
				<circle r="234" cx="196" cy="23"></circle>
				<circle r="234" cx="790" cy="491"></circle>
			</g>
		</svg>
		<!-- @formatter:on -->
		<div class="z-10 relative flex flex-col items-center">
			<h2 class="text-xl font-semibold">English Ms Huong Class</h2>
			<div class="mt-1 text-4xl sm:text-7xl font-extrabold tracking-tight leading-tight text-center">
				What do you want to learn today?
			</div>
			<div class="max-w-2xl mt-6 sm:text-2xl text-center tracking-tight text-secondary">
				Our courses will step	you through the process of a building	small applications,
				or	adding new features to	existing applications.
			</div>
		</div>
	</div>

	<!-- Main -->
	<div class="flex flex-auto p-6 sm:p-10">
		<div class="flex flex-col flex-auto w-full max-w-xs sm:max-w-5xl mx-auto">
			<!-- Filters -->
			<form [formGroup]="filter" class="flex flex-col sm:flex-row items-center justify-between w-full max-w-xs sm:max-w-none">
				<mat-form-field class="fuse-mat-no-subscript w-full sm:w-36">
					<mat-select [value]="'all'" formControlName="classId" (selectionChange)="onChangeClass($event.value)">
						<mat-option [value]="''">{{'common.all' |transloco}}</mat-option>
						<ng-container *ngFor="let class of listClasses">
							<mat-option [value]="class.id">{{ class.className | transloco }}</mat-option>
						</ng-container>
					</mat-select>
				</mat-form-field>

				<mat-form-field class="fuse-mat-no-subscript w-full sm:w-72 mt-4 sm:mt-0 sm:ml-4" [floatLabel]="'always'">
					<mat-icon matPrefix class="icon-size-5" [svgIcon]="'heroicons_solid:search'"></mat-icon>
					<input formControlName="classId" (keyup.enter)="searchHandler()" [placeholder]="'homeworks.placeholders.title' | transloco" matInput>
				</mat-form-field>

				<mat-slide-toggle class="mt-8 sm:mt-0 sm:ml-auto" [color]="'primary'"
				(change)="toggleOutDate($event)">{{ 'homeworks.label.outDateOnly' | transloco }}
				</mat-slide-toggle>
			</form>

			<!-- Homeworks -->
			<ng-container *ngIf="this.homeworks.length; else noHomeworks">
				<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mt-8 sm:mt-10">
					<ng-container *ngFor="let homework of homeworks">
						<!-- Homework -->
						<div class="flex flex-col h-96 shadow rounded-2xl overflow-hidden bg-card">
							<div class="flex flex-col p-6">
								<div class="flex items-center justify-between">
									<!-- Completed at least once -->
									<div class="flex items-center">
										<ng-container *ngIf="homework.progress.completed > 0">
											<mat-icon class="icon-size-5 text-green-600" [svgIcon]="'heroicons_solid:badge-check'"
												[matTooltip]="'You completed this homework at least once'"></mat-icon>
										</ng-container>
									</div>
								</div>

								<!-- Homework title & description -->
								<div class="mt-4 text-lg font-medium">{{ homework.title }}</div>
								<div class="mt-0.5 line-clamp-2 text-secondary">{{ homework.description }}</div>
								<div class="w-12 h-1 my-6 border-t-2"></div>

								<!-- Homework time -->
								<div class="flex items-center leading-5 text-md text-secondary">
									<mat-icon class="icon-size-5 text-hint" [svgIcon]="'heroicons_solid:clock'"></mat-icon>
									<div class="ml-1.5">{{ 'homeworks.label.dueDate' | transloco }} {{ homework.dueDate | date: 'dd/MM/yyyy' }}</div>
								</div>

								<!-- Homework completion -->
								<div class="flex items-center mt-2 leading-5 text-md text-secondary">
									<mat-icon class="icon-size-5 text-hint" [svgIcon]="'heroicons_solid:academic-cap'"></mat-icon>
									<ng-container *ngIf="homework.progress.completed === 0">
										<div class="ml-1.5"> Never practived </div>
									</ng-container>
									<ng-container *ngIf="homework.progress.completed > 0">
										<div class="ml-1.5">
											<span>Practived</span>
											<span class="ml-1">
												<!-- Once -->
												<ng-container *ngIf="homework.progress.completed === 1">once</ng-container>
												<!-- Twice -->
												<ng-container *ngIf="homework.progress.completed === 2">twice</ng-container>
												<!-- Others -->
												<ng-container *ngIf="homework.progress.completed > 2">{{homework.progress.completed}}
													{{homework.progress.completed | i18nPlural: { '=0' : 'time', '=1' : 'time', 'other': 'times' } }}
												</ng-container>
											</span>
										</div>
									</ng-container>
								</div>
							</div>

							<!-- Footer -->
							<div class="flex flex-col w-full mt-auto">
								<!-- Homework progress -->
								<div class="relative h-0.5">
									<div class="z-10 absolute inset-x-0 h-6 -mt-3"
										[matTooltip]="homework.progress.currentStep / homework.totalSteps | percent"
										[matTooltipPosition]="'above'"
										[matTooltipClass]="'-mb-0.5'">
									</div>
									<mat-progress-bar class="h-0.5"
										[value]="(100 * homework.progress.currentStep) / homework.totalSteps"></mat-progress-bar>
								</div>

								<!-- Homework launch button -->
								<div class="px-6 py-4 text-right bg-gray-50 dark:bg-transparent">
									<button mat-stroked-button [routerLink]="[homework.homeworkAssignmentId]">
										<span class="inline-flex items-center">
											<!-- Not started -->
											<ng-container *ngIf="homework.progress.currentStep === 0">
												<!-- Never practived -->
												<ng-container *ngIf="homework.progress.completed === 0">
													<span>Start</span>
												</ng-container>

												<!-- Practived before -->
												<ng-container *ngIf="homework.progress.completed > 0">
													<span>Start again</span>
												</ng-container>
											</ng-container>

											<!-- Started -->
											<ng-container *ngIf="homework.progress.currentStep > 0">
												<span>Continue</span>
											</ng-container>

                                            <!-- Graded -->
                                            <ng-container *ngIf="homework.progress.currentStep === homework.totalSteps && homework.status === 3">
												<span>View</span>
											</ng-container>

											<mat-icon class="ml-1.5 icon-size-5"
												[svgIcon]="'heroicons_solid:arrow-sm-right'"></mat-icon>
										</span>
									</button>
								</div>
							</div>
						</div>
					</ng-container>
				</div>
			</ng-container>

			<!-- No homework -->
			<ng-template #noHomeworks>
				<div class="flex flex-auto flex-col items-center justify-center bg-gray-100 dark:bg-transparent">
					<mat-icon class="icon-size-20" [svgIcon]="'iconsmind:file_search'"></mat-icon>
					<div class="mt-6 text-2xl font-semibold tracking-tight text-secondary">
						No homework found!
					</div>
				</div>
			</ng-template>
		</div>
	</div>
</div>
